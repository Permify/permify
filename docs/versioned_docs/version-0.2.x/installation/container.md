---
title: "Container (With Conf)"
---

# Container With Configurations

This section shows how to run Permify Service from a container with configurations. You can run Permify service from a container with following steps.

### Run following line on Terminal

```shell
docker run -p 3476:3476 -p 3478:3478 -v {YOUR-CONFIG-PATH}:/config ghcr.io/permify/permify serve
```

This will start an API server with the configuration options that pointed out on the **{YOUR-CONFIG-PATH}**.

This config path - `{YOUR-CONFIG-PATH}:/config` - addresses **config.yaml** file, where you can configure running options of the server as well as define the ***database to store your authorization data***. 

By default, the container is configured to listen on ports 3476 (HTTP) and 3478 (gRPC) and store the authorization data in memory rather than an actual database. You can override these by creating and and point out a new configuration file when running the command. 

Permify designed to be store authorization data in a database you prefer as relation tuples. We called that database **‘writeDB’**. Additional to other configuration options, you can also define (point out) your **‘writeDB’** on the configuration YAML file as well.

### Configuration File

Here is the example configuration YAML file with descriptions below. You can also find this [example config file](https://github.com/Permify/permify/blob/master/example.config.yaml) in Permify repo.

***Example config.yaml file***

```yaml
server:
  http:
    enabled: true
    port: 3476
    tls:
      enabled: true
      cert: /etc/letsencrypt/live/yourdomain.com/fullchain.pem
      key: /etc/letsencrypt/live/yourdomain.com/privkey.pem
  grpc:
    port: 3478
    tls:
      enabled: true
      cert: /etc/letsencrypt/live/yourdomain.com/fullchain.pem
      key: /etc/letsencrypt/live/yourdomain.com/privkey.pem

logger:
  level: 'debug'

authn:
  enabled: false
  keys: []

tracer:
  exporter: 'zipkin'
  endpoint: 'http://localhost:9411/api/v2/spans'
  enabled: false

meter:
  exporter: 'otlp'
  endpoint: 'localhost:4318'
  enabled: true

service:
  circuit_breaker: false
  concurrency_limit: 100

database:
  engine: 'postgres'
  database: 'db_name'
  uri: 'postgres://user:password@host:5432'
  max_open_connections: 20
```
* **server:** Server options to run Permify. (`grpc` and `http` available for now.)
  * **grpc:** example, same configurations for `http` option.
    * **port:** port that server run on.
    * **tls:** transport layer security options.
       * **enabled** switch option for tls, *(default: false)*.
       * **cert** tls certificate path.
       * **key** tls key path.

* **logger**
  * **level:** Real time logs of authorization. Permify uses [zerolog] as a logger.

[zerolog]: https://github.com/rs/zerolog

* **authn**
  * **enabled:** switch option for server authentication, *(default: false)*
  * **keys:** Private key/keys for server authentication. Permify does not provide this key, so it must be generated by the users.

* **tracer** (optional)
  * **exporter:** Permify integrated with [jaeger] , [signoz] and [zipkin] tracing tools. See our [change log] about tracing performance of your authorization.
  * **endpoint:** export uri for tracing data.
  * **enabled:** switch option for tracing. *(default: false)*

* **meter** (optional)
  * **exporter:** [otpl](https://opentelemetry.io/docs/collector/) is default.
  * **endpoint:** export uri to observe metrics; check count, cache check count and session information; Permify version, hostname, os, arch. 
  * **enabled:** switch option for meter tracing. *(default: true)*

* **database** : Points out where your want to store your authorization data (relation tuples, audits, decision logs, authorization model )
  * **engine:** Data source. Permify supports **PostgreSQL**(`'postgres'`) for now. Contact with us for your preferred database. *(default: memory)*
  * **database:** Custom database name.
  * **uri:** Uri of your data source.
  * **max_open_connections:** Max connection pool size,  *(default: 20)*

[jaeger]: https://www.jaegertracing.io/
[zipkin]: https://zipkin.io/
[signoz]: https://signoz.io/
[change log]: https://www.permify.co/changelog/

### Configure With Using Flags

Alternatively, you can set configuration options with the respected flags when running the command. See all configuration flags with running,

```shell
docker run -p 8080:8080 ghcr.io/permify/permify serve -help
```

### Test your connection.

You can test your connection with creating an HTTP GET request,

```shell
localhost:3476/healthz
```

You can use our Postman Collection to work with the API. Also see the [Using the API] section for details of core functions.

[Using the API]: ../../api-overview

[![Run in Postman](https://run.pstmn.io/button.svg)](https://god.gw.postman.com/run-collection/16122080-54b1e316-8105-4440-b5bf-f27a05a8b4de?action=collection%2Ffork&collection-url=entityId%3D16122080-54b1e316-8105-4440-b5bf-f27a05a8b4de%26entityType%3Dcollection%26workspaceId%3Dd3a8746c-fa57-49c0-83a5-6fcf25a7fc05)
[![View in Swagger](http://jessemillar.github.io/view-in-swagger-button/button.svg)](https://app.swaggerhub.com/apis-docs/permify/permify/latest)


### Need any help ?

Our team is happy to help you get started with Permify, [schedule a call with an Permify engineer](https://meetings-eu1.hubspot.com/ege-aytin/call-with-an-expert).
